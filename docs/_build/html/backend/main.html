<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html"><link rel="next" title="Camera Interface" href="camera.html"><link rel="prev" title="Parkinson Analysis" href="../index.html">

    <!-- Generated with Sphinx 8.1.3 and Furo 2025.12.19 -->
        <title>Main Application (FastAPI) - Parkinson Analysis 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=7bdb33bb" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Parkinson Analysis 1.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">Parkinson Analysis 1.0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Backend</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Main Application (FastAPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera.html">Camera Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="conversion.html">Conversion Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing.html">Processing Pipeline (YOLOv8)</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Data Models (Pydantic)</a></li>
<li class="toctree-l1"><a class="reference internal" href="writers.html">Writers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Frontend</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../frontend/index.html">Frontend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frontend/pages.html">Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frontend/components.html">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frontend/utils.html">Utilities &amp; Config</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/backend/main.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="main-application-fastapi">
<h1>Main Application (FastAPI)<a class="headerlink" href="#main-application-fastapi" title="Link to this heading">¶</a></h1>
<p>The main FastAPI app. Defines all HTTP routes and wires together the recording state machine,
MJPEG streaming, conversion triggers and file management endpoints.</p>
<section id="key-concepts">
<h2>Key concepts<a class="headerlink" href="#key-concepts" title="Link to this heading">¶</a></h2>
<p><strong>Recording state machine</strong>: <code class="docutils literal notranslate"><span class="pre">idle</span> <span class="pre">-&gt;</span> <span class="pre">warming_up</span> <span class="pre">-&gt;</span> <span class="pre">recording</span> <span class="pre">-&gt;</span> <span class="pre">paused</span> <span class="pre">-&gt;</span> <span class="pre">idle</span></code>.
State is tracked in a dict protected by a threading lock. Both cameras start and stop
in parallel threads to minimize inter camera offset.</p>
<p><strong>MJPEG streaming</strong>: each camera has a generator (<code class="docutils literal notranslate"><span class="pre">gen_frames</span></code>) that reads the latest
captured frame, JPEG encodes it and yields it as multipart data. FPS is throttled to
30fps idle, 15fps during recording to save CPU and USB bandwidth on the Jetson.</p>
<p><strong>Sync tracking</strong>: <code class="docutils literal notranslate"><span class="pre">time.monotonic()</span></code> timestamps are captured around pipeline restart
during record start. The inter camera offset is computed and stored in metadata sidecars.</p>
<p><strong>Pause/Resume</strong>: calls the RealSense SDK recorder <code class="docutils literal notranslate"><span class="pre">pause()</span></code>/<code class="docutils literal notranslate"><span class="pre">resume()</span></code> on all
active cameras so the BAG file doesnt contain dead frames during pauses.</p>
</section>
<section id="routes-overview">
<h2>Routes overview<a class="headerlink" href="#routes-overview" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Recording:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/recording/start</span></code> — start recording with warmup</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/recording/stop</span></code> — stop and save</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/recording/pause</span></code> — pause BAG writing on all cameras</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/recording/resume</span></code> — resume BAG writing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/recording/status</span></code> — live metrics</p></li>
</ul>
</dd>
<dt>Camera management:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/camera/{id}</span></code> — MJPEG stream</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/cameras/info</span></code> — detected cameras</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/cameras/refresh</span></code> — re detect cameras</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/cameras/swap</span></code> — swap logical camera mapping</p></li>
</ul>
</dd>
<dt>Quality analysis:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/recordings/frame-comparison/{batch_id}</span></code> — sync analysis, drop rates, start offset</p></li>
</ul>
</dd>
<dt>File management:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/recordings/batches</span></code> — list batch pairs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/files/all</span></code> — all files organized by type</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DELETE</span> <span class="pre">/files/video/{batch_id}</span></code> — delete batch</p></li>
</ul>
</dd>
</dl>
</section>
<section id="module-main">
<span id="api-reference"></span><h2>API reference<a class="headerlink" href="#module-main" title="Link to this heading">¶</a></h2>
<section id="parkinson-analysis-api">
<h3>Parkinson Analysis API<a class="headerlink" href="#parkinson-analysis-api" title="Link to this heading">¶</a></h3>
<p>FastAPI backend for the Parkinson Analysis dual-camera recording and processing pipeline.</p>
<dl class="simple">
<dt>Modules:</dt><dd><p>config.py      - Configuration, constants, and camera detection
models.py      - Pydantic request/response models
camera.py      - Camera source abstraction (RealSense, .bag)
writers.py     - Video writers (BAG, MP4, FFmpeg)
processing.py  - Video processing and analysis pipeline
conversion.py  - Post-recording BAG→MP4 conversion pipeline</p>
</dd>
<dt>Camera Modes (set via CAMERA_MODE env var):</dt><dd><p>auto           - Auto-detect RealSense cameras (DEFAULT)
mock_bag       - RealSense .bag file playback (for dev)
realsense      - Live RealSense cameras (force RealSense)</p>
</dd>
<dt>Recording Behavior:</dt><dd><dl class="simple">
<dt>RealSense cameras:</dt><dd><ul class="simple">
<li><p>.bag file (depth + RGB) only — zero-drop, SDK-managed</p></li>
<li><p>.mp4 is generated post-recording via the Conversion page</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>Camera Priority:</dt><dd><p>Camera 0 (CAM1/Front)  is the first detected RealSense device.
Camera 1 (CAM2/Side)   is the second detected RealSense device.
If only one camera is connected, only camera1 files are recorded.</p>
</dd>
</dl>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="main.cancel_conversion">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">cancel_conversion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.cancel_conversion" title="Link to this definition">¶</a></dt>
<dd><p>Cancel a conversion job.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.cancel_processing">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">cancel_processing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.cancel_processing" title="Link to this definition">¶</a></dt>
<dd><p>Cancel a processing job.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.delete_csv">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">delete_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.delete_csv" title="Link to this definition">¶</a></dt>
<dd><p>Delete a CSV file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.delete_json">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">delete_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.delete_json" title="Link to this definition">¶</a></dt>
<dd><p>Delete a JSON file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.delete_single_video">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">delete_single_video</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.delete_single_video" title="Link to this definition">¶</a></dt>
<dd><p>Delete a single video file (BAG + MP4 + metadata).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.delete_video_batch">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">delete_video_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.delete_video_batch" title="Link to this definition">¶</a></dt>
<dd><p>Delete entire video batch (both cameras, BAG + MP4 + metadata).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.download_bag">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">download_bag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.download_bag" title="Link to this definition">¶</a></dt>
<dd><p>Download a RealSense BAG file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.download_csv">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">download_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.download_csv" title="Link to this definition">¶</a></dt>
<dd><p>Download a CSV file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.download_json">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">download_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.download_json" title="Link to this definition">¶</a></dt>
<dd><p>Download a JSON file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.download_video">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">download_video</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.download_video" title="Link to this definition">¶</a></dt>
<dd><p>Download a video file (MP4).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.fix_mp4_codec">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">fix_mp4_codec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.fix_mp4_codec" title="Link to this definition">¶</a></dt>
<dd><p>Re-encode MP4 files to browser-compatible H.264.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.gen_frames">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">gen_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/main.html#gen_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.gen_frames" title="Link to this definition">¶</a></dt>
<dd><p>Generate frames from camera for MJPEG streaming.</p>
<dl class="simple">
<dt>Handles:</dt><dd><ul class="simple">
<li><p>Reading frames from camera source (via physical ID after swap)</p></li>
<li><p>JPEG encoding for streaming</p></li>
<li><p>FPS throttling: 30 fps idle, 15 fps during recording to save
CPU/bandwidth on Jetson AGX Orin with dual RealSense cameras</p></li>
<li><p>Graceful stream termination when camera goes offline so the browser
fires onError and the frontend can retry with exponential back-off.</p></li>
</ul>
</dd>
</dl>
<p>MP4 recording is handled directly by the capture thread (decoupled).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.get_cameras_info">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">get_cameras_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.get_cameras_info" title="Link to this definition">¶</a></dt>
<dd><p>Get detailed information about detected cameras.</p>
<p>Returns camera types, serials, and recording formats.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.get_cameras_swap_state">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">get_cameras_swap_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.get_cameras_swap_state" title="Link to this definition">¶</a></dt>
<dd><p>Return the current camera swap state.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.get_conversion_status">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">get_conversion_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.get_conversion_status" title="Link to this definition">¶</a></dt>
<dd><p>Get conversion job status.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.get_frame_comparison">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">get_frame_comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.get_frame_comparison" title="Link to this definition">¶</a></dt>
<dd><p>Compare frame counts between BAG and MP4 files for a recording batch.</p>
<p>Returns per-camera statistics so the specialist can assess how many frames
were dropped between the high-quality BAG source and the MP4 preview, and
whether both cameras have a similar (ideally equal) frame count.</p>
<p>BAG frame count is read from the metadata sidecar (saved at stop time).
MP4 frame count is read via OpenCV (or from the sidecar).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.get_physical_camera_id">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">get_physical_camera_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logical_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/main.html#get_physical_camera_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#main.get_physical_camera_id" title="Link to this definition">¶</a></dt>
<dd><p>Map a logical camera ID to its physical camera ID.</p>
<p>When SWAP_CAMERAS is False: identity mapping (0-&gt;0, 1-&gt;1).
When SWAP_CAMERAS is True:  swap mapping  (0-&gt;1, 1-&gt;0).</p>
<dl class="simple">
<dt>Logical IDs determine file naming:</dt><dd><p>Logical 0 → camera1 files (Front/Sagittale)
Logical 1 → camera2 files (Side/Frontale)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.get_processing_status">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">get_processing_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.get_processing_status" title="Link to this definition">¶</a></dt>
<dd><p>Get processing job status.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.get_recording_status">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">get_recording_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.get_recording_status" title="Link to this definition">¶</a></dt>
<dd><p>Get current recording status with live metrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>idle | warming_up | recording | paused
duration:          seconds elapsed since recording started (None during warm-up)
warmup_remaining:  seconds left in warm-up countdown (None when not warming up)
current_filenames: dict of “camN_bag” -&gt; filename (populated after warm-up)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>status</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.get_system_info">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">get_system_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.get_system_info" title="Link to this definition">¶</a></dt>
<dd><p>Get system information and capabilities.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.get_video">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">get_video</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">fastapi.Request</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.get_video" title="Link to this definition">¶</a></dt>
<dd><p>Serve video with byte-range support for streaming.</p>
<p>Always advertises Accept-Ranges so browsers can seek immediately
without downloading the entire file first.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.get_video_metadata">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">get_video_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.get_video_metadata" title="Link to this definition">¶</a></dt>
<dd><p>Read video metadata from sidecar JSON or embedded ffprobe tags.
Fallback logic for FPS: Metadata -&gt; Container (MP4/BAG) -&gt; Default.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.health">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">health</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.health" title="Link to this definition">¶</a></dt>
<dd><p>Health check endpoint.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.list_all_files">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">list_all_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.list_all_files" title="Link to this definition">¶</a></dt>
<dd><p>List all files organized by type.</p>
<p>Videos grouped by batch showing BAG (high-quality) + MP4 preview info.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.list_batches">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">list_batches</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.list_batches" title="Link to this definition">¶</a></dt>
<dd><p>List recording batches (camera1 + camera2 pairs) and orphaned singles.</p>
<p>Primary processing file: .bag (RealSense depth + RGB)
Preview file: .mp4</p>
<p>Returns MP4 names for viewing/tagging.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.list_conversion_jobs">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">list_conversion_jobs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.list_conversion_jobs" title="Link to this definition">¶</a></dt>
<dd><p>List all conversion jobs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.list_processing_jobs">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">list_processing_jobs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.list_processing_jobs" title="Link to this definition">¶</a></dt>
<dd><p>List all processing jobs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.list_recordings">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">list_recordings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.list_recordings" title="Link to this definition">¶</a></dt>
<dd><p>List MP4 video files for tagging, including patient metadata.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.pause_recording">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">pause_recording</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.pause_recording" title="Link to this definition">¶</a></dt>
<dd><p>Pause recording — pauses BAG writing on all active cameras.</p>
<p>The RealSense pipeline stays running (MJPEG streaming continues)
but frames are no longer written to disk. This gives a true pause
so the resulting BAG has no gap/filler frames.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.refresh_cameras">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">refresh_cameras</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.refresh_cameras" title="Link to this definition">¶</a></dt>
<dd><p>Force re-detection of cameras.
Call this if you’ve plugged in or unplugged cameras.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.resume_recording">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">resume_recording</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.resume_recording" title="Link to this definition">¶</a></dt>
<dd><p>Resume recording — resumes BAG writing on all active cameras.</p>
<p>Both cameras are resumed in parallel to minimise inter-camera
resume offset.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.save_tagging">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">save_tagging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="models.html#models.SaveTaggingRequest" title="models.SaveTaggingRequest"><span class="pre">SaveTaggingRequest</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.save_tagging" title="Link to this definition">¶</a></dt>
<dd><p>Save tagging logs as CSV.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.shutdown">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">shutdown</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.shutdown" title="Link to this definition">¶</a></dt>
<dd><p>Clean up resources on shutdown.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.start_conversion">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">start_conversion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="models.html#models.ConversionStartRequest" title="models.ConversionStartRequest"><span class="pre">ConversionStartRequest</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.start_conversion" title="Link to this definition">¶</a></dt>
<dd><p>Start BAG→MP4 conversion for a batch.</p>
<p>Both cameras of the batch are converted in parallel. Batches are sequential
(only one batch can convert at a time per job). Uses h264_nvenc on Jetson
(NVENC hardware encoder), falls back to libx264 if unavailable.</p>
<p>Set force=True to re-convert even if an MP4 already exists.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.start_processing">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">start_processing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="models.html#models.ProcessRequest" title="models.ProcessRequest"><span class="pre">ProcessRequest</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.start_processing" title="Link to this definition">¶</a></dt>
<dd><p>Start processing a video batch.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.start_recording">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">start_recording</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="models.html#models.RecordingStartRequest" title="models.RecordingStartRequest"><span class="pre">RecordingStartRequest</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.start_recording" title="Link to this definition">¶</a></dt>
<dd><p>Start recording with a warm-up period.</p>
<p>Immediately sets status to ‘warming_up’ and returns. A background thread
waits WARMUP_DURATION seconds (so auto-exposure can stabilize), then
initializes VideoWriters and sets status to ‘recording’.</p>
<p>Only active (running) cameras get writers. If one camera is offline,
only the other camera is recorded (orphan mode).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.stop_recording">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">stop_recording</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.stop_recording" title="Link to this definition">¶</a></dt>
<dd><p>Stop recording and save BAG files with metadata sidecars.</p>
<p>If called during warm-up, cancels before any writers are created.
BAG pipelines for both cameras are stopped in parallel to minimise
the inter-camera stop-time offset.</p>
<p>MP4 files are NOT created here — use the Conversion page post-recording.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.swap_cameras">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">swap_cameras</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.swap_cameras" title="Link to this definition">¶</a></dt>
<dd><p>Toggle the logical↔physical camera swap.</p>
<p>When swapped, /camera/0 streams from physical device 1 and vice-versa.
Recordings are always saved with logical naming:</p>
<ul class="simple">
<li><p>camera1 = Front/Sagittale  (logical 0)</p></li>
<li><p>camera2 = Side/Frontale    (logical 1)</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.video_feed">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">video_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">camera_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.video_feed" title="Link to this definition">¶</a></dt>
<dd><p>Stream MJPEG video from camera 0 or 1.</p>
<p>Returns HTTP 503 when the camera is not yet running so the browser’s
&lt;img&gt; onError fires immediately and the frontend can retry with
exponential back-off without keeping a long-lived connection alive.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.view_json">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">view_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.view_json" title="Link to this definition">¶</a></dt>
<dd><p>View JSON file content.</p>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="camera.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Camera Interface</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2026, Mehdi Ouassou
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Main Application (FastAPI)</a><ul>
<li><a class="reference internal" href="#key-concepts">Key concepts</a></li>
<li><a class="reference internal" href="#routes-overview">Routes overview</a></li>
<li><a class="reference internal" href="#module-main">API reference</a><ul>
<li><a class="reference internal" href="#parkinson-analysis-api">Parkinson Analysis API</a></li>
<li><a class="reference internal" href="#main.cancel_conversion"><code class="docutils literal notranslate"><span class="pre">cancel_conversion()</span></code></a></li>
<li><a class="reference internal" href="#main.cancel_processing"><code class="docutils literal notranslate"><span class="pre">cancel_processing()</span></code></a></li>
<li><a class="reference internal" href="#main.delete_csv"><code class="docutils literal notranslate"><span class="pre">delete_csv()</span></code></a></li>
<li><a class="reference internal" href="#main.delete_json"><code class="docutils literal notranslate"><span class="pre">delete_json()</span></code></a></li>
<li><a class="reference internal" href="#main.delete_single_video"><code class="docutils literal notranslate"><span class="pre">delete_single_video()</span></code></a></li>
<li><a class="reference internal" href="#main.delete_video_batch"><code class="docutils literal notranslate"><span class="pre">delete_video_batch()</span></code></a></li>
<li><a class="reference internal" href="#main.download_bag"><code class="docutils literal notranslate"><span class="pre">download_bag()</span></code></a></li>
<li><a class="reference internal" href="#main.download_csv"><code class="docutils literal notranslate"><span class="pre">download_csv()</span></code></a></li>
<li><a class="reference internal" href="#main.download_json"><code class="docutils literal notranslate"><span class="pre">download_json()</span></code></a></li>
<li><a class="reference internal" href="#main.download_video"><code class="docutils literal notranslate"><span class="pre">download_video()</span></code></a></li>
<li><a class="reference internal" href="#main.fix_mp4_codec"><code class="docutils literal notranslate"><span class="pre">fix_mp4_codec()</span></code></a></li>
<li><a class="reference internal" href="#main.gen_frames"><code class="docutils literal notranslate"><span class="pre">gen_frames()</span></code></a></li>
<li><a class="reference internal" href="#main.get_cameras_info"><code class="docutils literal notranslate"><span class="pre">get_cameras_info()</span></code></a></li>
<li><a class="reference internal" href="#main.get_cameras_swap_state"><code class="docutils literal notranslate"><span class="pre">get_cameras_swap_state()</span></code></a></li>
<li><a class="reference internal" href="#main.get_conversion_status"><code class="docutils literal notranslate"><span class="pre">get_conversion_status()</span></code></a></li>
<li><a class="reference internal" href="#main.get_frame_comparison"><code class="docutils literal notranslate"><span class="pre">get_frame_comparison()</span></code></a></li>
<li><a class="reference internal" href="#main.get_physical_camera_id"><code class="docutils literal notranslate"><span class="pre">get_physical_camera_id()</span></code></a></li>
<li><a class="reference internal" href="#main.get_processing_status"><code class="docutils literal notranslate"><span class="pre">get_processing_status()</span></code></a></li>
<li><a class="reference internal" href="#main.get_recording_status"><code class="docutils literal notranslate"><span class="pre">get_recording_status()</span></code></a></li>
<li><a class="reference internal" href="#main.get_system_info"><code class="docutils literal notranslate"><span class="pre">get_system_info()</span></code></a></li>
<li><a class="reference internal" href="#main.get_video"><code class="docutils literal notranslate"><span class="pre">get_video()</span></code></a></li>
<li><a class="reference internal" href="#main.get_video_metadata"><code class="docutils literal notranslate"><span class="pre">get_video_metadata()</span></code></a></li>
<li><a class="reference internal" href="#main.health"><code class="docutils literal notranslate"><span class="pre">health()</span></code></a></li>
<li><a class="reference internal" href="#main.list_all_files"><code class="docutils literal notranslate"><span class="pre">list_all_files()</span></code></a></li>
<li><a class="reference internal" href="#main.list_batches"><code class="docutils literal notranslate"><span class="pre">list_batches()</span></code></a></li>
<li><a class="reference internal" href="#main.list_conversion_jobs"><code class="docutils literal notranslate"><span class="pre">list_conversion_jobs()</span></code></a></li>
<li><a class="reference internal" href="#main.list_processing_jobs"><code class="docutils literal notranslate"><span class="pre">list_processing_jobs()</span></code></a></li>
<li><a class="reference internal" href="#main.list_recordings"><code class="docutils literal notranslate"><span class="pre">list_recordings()</span></code></a></li>
<li><a class="reference internal" href="#main.pause_recording"><code class="docutils literal notranslate"><span class="pre">pause_recording()</span></code></a></li>
<li><a class="reference internal" href="#main.refresh_cameras"><code class="docutils literal notranslate"><span class="pre">refresh_cameras()</span></code></a></li>
<li><a class="reference internal" href="#main.resume_recording"><code class="docutils literal notranslate"><span class="pre">resume_recording()</span></code></a></li>
<li><a class="reference internal" href="#main.save_tagging"><code class="docutils literal notranslate"><span class="pre">save_tagging()</span></code></a></li>
<li><a class="reference internal" href="#main.shutdown"><code class="docutils literal notranslate"><span class="pre">shutdown()</span></code></a></li>
<li><a class="reference internal" href="#main.start_conversion"><code class="docutils literal notranslate"><span class="pre">start_conversion()</span></code></a></li>
<li><a class="reference internal" href="#main.start_processing"><code class="docutils literal notranslate"><span class="pre">start_processing()</span></code></a></li>
<li><a class="reference internal" href="#main.start_recording"><code class="docutils literal notranslate"><span class="pre">start_recording()</span></code></a></li>
<li><a class="reference internal" href="#main.stop_recording"><code class="docutils literal notranslate"><span class="pre">stop_recording()</span></code></a></li>
<li><a class="reference internal" href="#main.swap_cameras"><code class="docutils literal notranslate"><span class="pre">swap_cameras()</span></code></a></li>
<li><a class="reference internal" href="#main.video_feed"><code class="docutils literal notranslate"><span class="pre">video_feed()</span></code></a></li>
<li><a class="reference internal" href="#main.view_json"><code class="docutils literal notranslate"><span class="pre">view_json()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=8d563738"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>